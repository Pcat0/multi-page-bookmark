
<!DOCTYPE html>
<html>
  <head>
  </head>
  <body>
    Bookmark Name:<input type="text" id="bookmarkName"><br>
    <a>Enter url(s) below, put each url on a new line.</a><br> 
    <textarea id="linkList" rows="6" cols="150" placeholder="https://www.google.com/\nhttp://example.com/\n..."></textarea><br>
    <button id="generateButton">Generate Bookmark</button><br>
    <a hidden id="helpText">Here is your new multi-page bookmark! To install it cLick and drag the link to your bookmark bar.</a><br>
    <a hidden id="bookmarkLink" hidden href="url">Muilti page bookmark</a>
    <script>
      [...document.getElementsByTagName('textarea')].forEach(e=>e.placeholder=e.placeholder.replace(/\\n/g, '\n'));
      
      const nameField = document.getElementById("bookmarkName");
      const linkFeild = document.getElementById("linkList");
      const genButton = document.getElementById("generateButton");
      const helperTxt = document.getElementById("helpText");
      const bookmarkL = document.getElementById("bookmarkLink");
      genButton.addEventListener("click", function() {
          var quarry = new URLSearchParams();
          var linkArray = linkFeild.value.split('\n');
          linkArray.forEach(link=>quarry.append("page", link));
          helperTxt.removeAttribute("hidden");
          bookmarkL.removeAttribute("hidden");
          bookmarkL.setAttribute('href', "https://pcat0.github.io/multi-page-bookmark" + "?" + quarry);
          bookmarkL.innerText = nameField.value || "Multi Page Bookmark!";
      }, false);
      
    </script>
  </body>
</html>
